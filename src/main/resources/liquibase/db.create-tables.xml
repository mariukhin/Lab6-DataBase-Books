<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd"
        logicalFilePath="1.0-create-tables.xml">
    <changeSet id="create_tables" author="maryuhin.z@gmail.com">
        <sql>
            CREATE TABLE hibernate."AuthorH"
            (
            Id integer NOT NULL,
            "authorname" character varying NOT NULL,
            "numofbooks" integer,
            "series" integer NOT NULL,
            CONSTRAINT "author_pkey" PRIMARY KEY (Id)
            );

            CREATE TABLE hibernate."BookH"
            (
            Id integer NOT NULL,
            "bookname" character varying NOT NULL,
            "dateofpublication" integer NOT NULL,
            "authorId" integer REFERENCES "author"(Id) NOT NULL,
            "editionId" integer NOT NULL,
            "screenadaptationId" integer ,
            CONSTRAINT "book_pkey" PRIMARY KEY (Id)
            );

            CREATE TABLE hibernate."CostH"
            (
            Id integer NOT NULL,
            "number" integer NOT NULL,
            "high" integer NOT NULL,
            CONSTRAINT "cost_pkey" PRIMARY KEY (Id)
            );

            CREATE TABLE hibernate."EditionH"
            (
            Id integer NOT NULL,
            "editionname" character varying NOT NULL,
            "numofcopies" integer NOT NULL,
            "bookId" integer REFERENCES "book"(Id) NOT NULL,
            "costId" integer REFERENCES "cost"(Id) NOT NULL,
            CONSTRAINT "edition_pkey" PRIMARY KEY (Id)
            );

            CREATE TABLE hibernate."ScreenAdaptationH"
            (
            Id bigint NOT NULL,
            "screenadaptationname" character varying  NOT NULL,
            "year" integer NOT NULL,
            "mark" integer NOT NULL,
            "bookId" bigint REFERENCES "book"(Id) NOT NULL,
            CONSTRAINT "screenadaptation_pkey" PRIMARY KEY (Id)
            );
        </sql>
    </changeSet>
</databaseChangeLog>